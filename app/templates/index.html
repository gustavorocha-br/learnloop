{% extends 'base.html' %}

{% block title %}LearnLoop One | P√°gina Inicial{% endblock %}

{% block metas %}
<title>LearnLoop | P√°gina Inicial</title>
<meta name="description" content="A LearnLoop √© a maior plataforma de estudos do Brasil, impulsionada pela Intelig√™ncia Artificial! Criada por estudantes para estudantes, junte-se √† revolu√ß√£o educacional!">
<meta name="keywords" content="plataforma de estudos, site para estudos, intelig√™ncia artificial para estudos, plataforma educacional online, aprendizado online, aprendizado personalizado, recursos educacionais interativos, estudos descontra√≠do">
{% endblock %}

{% block styled %}
<style>
  /* Estilos dos bot√µes e artigos */
  .mapa-btn {
    display: flex;
    gap: 0.6em;
    flex-wrap: wrap;
  }

  .mapa-btn button {
    width: 40%;
    padding: 15px;
    font-weight: 700;
    font-size: 16px;
    background-color: #aeff00;
    color: #000;
    border-radius: 6px;
    position: relative;
    overflow: hidden;
    transition: color 0.3s ease;
  }

  .mapa-btn button::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 300%;
    height: 300%;
    background-color: rgba(255, 255, 255, 0.1);
    transition: width 0.5s ease, height 0.5s ease, top 0.5s ease, left 0.5s ease;
    border-radius: 50%;
    z-index: 0;
    transform: translate(-50%, -50%);
  }

  .mapa-btn button:hover::before {
    width: 400%; /* Ajuste o tamanho para fazer a cor parecer mais clara */
    height: 400%; /* Ajuste o tamanho para fazer a cor parecer mais clara */
    top: -150%; /* Ajuste a posi√ß√£o para centralizar o brilho */
    left: -150%; /* Ajuste a posi√ß√£o para centralizar o brilho */
    background-color: rgba(255, 255, 255, 0.3); /* Cor mais clara ao passar o mouse */
  }

  .mapa-btn button span {
    position: relative;
    z-index: 1;
  }

  .list-artigos {
    display: flex;
    flex-wrap: wrap;
    gap: 1em;
  }

  .artigo {
    opacity: 0;
    transform: translateX(-50px);
    padding: 7px;
    border: none;
    border-radius: 6px;
    display: flex;
    flex-direction: column;
    cursor: pointer;
    background-color: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    transition: opacity 0.5s ease, transform 0.5s ease;
    width: 40%;
  }

  .artigo:hover {
    background-color: rgba(255, 255, 255, 0.3);
  }

  .show {
    opacity: 1;
    transform: translateX(0);
  }

  /* Estilos responsivos */
  @media screen and (max-width: 1000px) {
    .mapa-btn button {
      width: 100%;
    }

    .artigo {
      width: 100%;
    }
  }
</style>
{% endblock %}

{% block content %}
<div class="container">
  <h3><span id="username-placeholder"></span></h3>
  <p>Explore os mais recentes artigos do LearnLoop!</p>
  <div id='ultimos-artigos' class="list-artigos">
    {% for artigo in artigos %}
    <div onclick="window.location.href = '/artigo/{{artigo.id}}'" class="artigo">
      <strong>{{artigo.titulo}}</strong>
      <small>{{artigo.categoria}}</small>
    </div>
    {% endfor %}
  </div>
  <p>Siga nosso Instagram para ficar por dentro das atualiza√ß√µes, tirar d√∫vidas e ver tutoriais sobre o site: <a href='https://instagram.com/learnloop.of' style='color: #fff;'>@learnloop.of clique aqui para ir direto para nosso perfil</a> </p>
</div>

<div class="container">
  <section onclick="window.location.href='https://www.instagram.com/realengof7'">
    <img src="{{url_for('static', filename='img/ads.png')}}" alt="An√∫ncio">
  </section>
</div>

<div class="container">
  <h3>Escolha uma op√ß√£o:</h3>
  <div class="mapa-btn">
    <button onclick="window.location.href='/feed/duvidas'"><span>F√≥rum de D√∫vidas</span></button>
    <button onclick="window.location.href = '/feed/artigos'"><span>Feed de Artigos</span></button>
    <button onclick="window.location.href = '/avaliar-redacao'"><span>Treino de Reda√ß√£o</span></button>
    <!-- <button onclick="window.location.href= '/plan'"><span>LearnPlan</span></button> -->
    <button onclick="window.location.href = '/quiz'"><span>LearnQuiz</span></button>
    <button onclick="window.location.href = '/feed/projetos-feciba'"><span>Projetos FECIBA</span></button>
    <button onclick="window.location.href = '/groups'"><span>LearnGroups</span></button>
  </div>
</div>

<script>
  /* Fun√ß√£o para simular a digita√ß√£o do nome do usu√°rio */
  function typeUsername(element, text, delay = 100) {
    let index = 0;
    function type() {
      if (index < text.length) {
        element.textContent += text.charAt(index);
        index++;
        setTimeout(type, delay);
      }
    }
    type();
  }

  /* Fun√ß√£o para exibir os artigos com anima√ß√£o */
  function showArticles() {
    const articles = document.querySelectorAll('.artigo');
    articles.forEach((article, index) => {
      setTimeout(() => {
        article.classList.add('show');
      }, index * 400); // Ajuste o tempo conforme necess√°rio
    });
  }

  /* Fun√ß√£o para determinar o emoji com base no hor√°rio */
  function getEmojiByTime() {
    const hour = new Date().getHours();
    let emoji;
    if (hour >= 5 && hour < 12) {
      emoji = '‚òÄÔ∏è'; // Manh√£
    } else if (hour >= 12 && hour < 18) {
      emoji = 'üå§Ô∏è'; // Tarde
    } else {
      emoji = 'üåô'; // Noite
    }
    return emoji;
  }

  /* Evento disparado ap√≥s o carregamento do DOM */
  document.addEventListener('DOMContentLoaded', function() {
    const usernameElement = document.getElementById('username-placeholder');
    const username = '{{user.username}}' || 'Visitante';
    const greeting = `Ol√°, ${username} ${getEmojiByTime()}`;
    typeUsername(usernameElement, greeting);
    showArticles();
  });
</script>

{% endblock %}
